<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Strict//EN">
<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Windows XP Compile Notes</title>
<link rel="stylesheet" type="text/css" href="default.css" media="screen" />
<meta content="text/html; charset=iso-8859-1" http-equiv="content-type">
<meta content="All By Hand" name="generator">
<meta content="max-age=0, must-revalidate" http-equiv="Cache-Control">
<script type="text/javascript" src="Navigation.js"></script>
</head>

<body>
<div class="outer-container">
<div class="inner-container">
<div class="header">
<div class="title"><span class="sitename"><a href="index.html">MXADataModel Documentation</a></span>
<div class="slogan" id="slogan">APIs for the Programmer</div>
</div>
</div>
<div class="path" id="breadcrumb"><a href="index.html">Home</a></div>
<div class="main">
<table border="0" cellpadding="5" cellspacing="5">
  <tr>
    <td valign="top"><!-- NAVIGATION STARTS HERE -->
    <div class="navigation"><script type="text/javascript">GenerateNavigation('Compile Notes (XP)', 'CompileNotesXP.html');</script>
    </div>
    <div class="clearer">&nbsp;</div>
    <!-- NAVIGATION ENDS HERE --></td>
    <!-- CONTENT STARTS HERE -->
    <td valign="top">
    <div class="content">
    <!-- CONTENT STARTS HERE -->
<h3>Basics</h3>
    Download and install <a href="http://www.cmake.org">CMake</a> first. Then proceed to build all the third
    party libraries that are needed. See <a href="SystemRequirements.html">this page</a> for more information
    regarding the necessary libraries.
   <br>
    Download boost from www.boost.org. You will also need bjam.exe from boost.org.
    Use the following to configure/build/install Boost.
 <br>
 
    <H3>Boost 1.36.x</H3>
    <code>Boost 1.36.x
bjam.exe toolset=msvc --with-test --with-filesystem --with-program_options 
--with-iostreams --with-threads --prefix=C:\Developer\VS9\Boost 
variant=release,debug threading=multi link=static runtime-link=shared install
</code>
    Let this go for a looong time after which Boost will be installed into C:\Developer\VS9\Boost. If
    you would like Boost installed somewhere else then add --prefix=C:\Path\To\Install to the above
    configuration line.
    It is helpful to set the "Boost_ROOT" environment variable. This will let cmake find 
    boost easier. It should be set to the same path as the "install" path from above.

    
    <h3>Support Libraries</h3>Tiff, Expat and HDF5-166 can be downloaded from our 
    CVS server. Use the included CMake files to use CMake
    to compile the libraries. I suggest building each library as a static library i
    nstead of a dll.
    
   
    <h3>Compiling MXADataModel and Unit Tests:</h3>
    Use CmakeSetup to generate the Visual studio solution files. Note when selecting libraries
    to use the "hdf5dll.lib (windows xp) as the HDF5 library. Cmake may not find this correctly. 
    Since Visual Studio uses Automatic Linking and Boost uses this to its advantage the only necessary
    step for Boost libraries is for the cmake file to include the directory where the boost
    libraries are located into its link libraries list. This is done for you. The Visual Studio
    linker will look in that location for the needed libraries.
    
    
  
    <h3>MinGW Notes:</h3> 
    The MXADataModel code base has been successfully compiled with MinGW using
    version 3.4.5 of gcc. I <i>HIGHLY</i> suggest building all the support libraries (expat, tiff, hdf5, boost)
    as static libraries. I have had difficulties linking when these are built as dynamic libraries (dlls).
    If you use an msys shell to invoke cmake, use the following as an example of how to make sure 
    gcc is the default compiler:<br/>
    <code>cmake -G "MSYS Makefiles" ../</code>
    
   <br/> There is a small bug in the Boost::FileSystem header. The following header <b>C:\Workspace\boost_1_34_1\boost\filesystem\convenience.hpp</b>
    needs line 31 changed to <br/>
    <code>#   define BOOST_FS_FUNC_STRING inline std::string</code>
    MinGW will massage this error while other systems
    will allow the code to compile.

    
    
<!-- CONTENT ENDS HERE -->
    </div>
    </td>
  </tr>
</table>
<div class="footer"><script type="text/javascript">generateFooter();</script>
</div>
</div>
</div>
</div>
</body>


</html>

