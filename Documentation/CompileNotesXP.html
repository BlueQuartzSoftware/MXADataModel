<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Strict//EN">
<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Windows XP Compile Notes</title>
<link rel="stylesheet" type="text/css" href="./site.css">
<meta content="text/html; charset=iso-8859-1" http-equiv="content-type">
<meta content="All By Hand" name="generator">
<meta content="max-age=0, must-revalidate" http-equiv="Cache-Control">
<script type="text/javascript" src="Navigation.js"></script>
</head>
<body>



<table class="main_layout_table">
<tr>
<td colspan="2"><div class="title">
Compile Notes for Windows XP
</div></td>
</tr>
<tr>
<!-- Begin Navigation Table Cell -->
<td class="nav_table_cell">
<div  id="NavigationDiv" > </div>
<script type="text/javascript">document.getElementById('NavigationDiv').innerHTML=navigationCells('Comple Notes (XP)');
</script>
</td>
<!-- End Navigation Table Cell -->
<td class="content">
<div class="entry">
    Download and install <a href="http://www.cmake.org">CMake</a> first. Then proceed to build all the third
    party libraries that are needed. See <a href="SystemRequirements.html">this page</a> for more information
    regarding the necessary libraries.

    <p>
    Download boost 1.34.1 from www.boost.org. You will also need bjam.exe from boost.org.
    use the following to configure/build/install Boost.
    <div>
    <b>Boost 1.36.x</b><br>
    <code>
bjam.exe toolset=msvc --with-test --with-filesystem --with-program_options --with-iostreams 
--with-threads --prefix=C:\Developer\VS9\Boost variant=release,debug threading=multi link=static runtime-link=shared install
</code>
    </div><br/>
    Let this go for a looong time after which Boost will be installed into C:\Developer\VS9\Boost. If
    you would like Boost installed somewhere else then add --prefix=C:\Path\To\Install to the above
    configuration line.
    It is helpful to set the "Boost_ROOT" environment variable. This will let cmake find 
    boost easier. It should be set to the same path as the "intall" path from above.
    </div>
    
    <div class="entry">Tiff, Expat and HDF5-166 can be downloaded from our CVS server. Use the included CMake files to use CMake
    to compile the libraries. I suggest build each library as a static library instead of a dll.</div>
    
    <div class="entry">
    Compiling MXADataModel and Unit Tests:<p>
    Use CmakeSetup to generate the Visual studio solution files. Note when selecting libraries
    to use the "hdf5dll.lib (windows xp) as the HDF5 library. Cmake may not find this correctly. 
    Since Visual Studio uses Automatic Linking and Boost uses this to its advantage the only necessary
    step for Boost libraries is for the cmake file to include the directory where the boost
    libraries are located into its link libraries list. This is done for you. The Visual Studio
    linker will look in that location for the needed libraries.
    </div>
    
    <div class="entry">
    <b>MinGW Notes:</b> The MXADataModel code base has been successfully compiled with MinGW using
    version 3.4.5 of gcc. I <i>HIGHLY</i> suggest building all the support libraries (expat, tiff, hdf5, boost)
    as static libraries. I have had difficulties linking when these are built as dynamic libraries (dlls).
    If you use an msys shell to invoke cmake, use the following as an example of how to make sure 
    gcc is the default compiler:<br/>
    <code>cmake -G "MSYS Makefiles" ../</code><br/>
    <br/>The shell command that I used to compile boost 1.34.1 was the following:<br/>
    <br/><code>bjam.exe --prefix=/c/Developer/mingw/Boost --with-filesystem --
with-program_options --with-test --toolset=gcc install</code><br/>
   <br/> There is a small bug in the Boost::FileSystem header. The following header <b>C:\Workspace\boost_1_34_1\boost\filesystem\convenience.hpp</b>
    needs line 31 changed to <br/><code>#   define BOOST_FS_FUNC_STRING inline std::string</code><br/>MinGW will massage this error while other systems
    will allow the code to compile.
    
    </div>
    
</td></tr>
</table>
</body>
</html>

