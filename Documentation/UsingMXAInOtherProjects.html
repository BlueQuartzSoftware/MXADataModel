<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Strict//EN">
<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>MXADataModel as an External Library</title>
<link rel="stylesheet" type="text/css" href="./site.css">
<meta content="text/html; charset=iso-8859-1" http-equiv="content-type">
<meta content="All By Hand" name="generator">
<meta content="max-age=0, must-revalidate" http-equiv="Cache-Control">
</head>
<body>



<table class="main_layout_table">
<tr>
<td colspan="2"><div class="title" align="center">
Using MXADataModel as an External Library for your Project
</div></td>
</tr>
<tr>
<!-- Begin Navigation Table Cell -->
<td class="nav_table_cell">
<div class="nav_inactive"><a href="index.html">Home</a></div>
<div class="nav_inactive"><a href="Background.html">Background</a></div>
<div class="nav_inactive"><a href="Todo.html">Todo list</a></div>
<div class="nav_inactive"><a href="SystemRequirements.html">System Requirements</a></div>
<div class="nav_inactive"><a href="CompileNotesXP.html">Compile (XP)</a></div>
<div class="nav_inactive"><a href="CompileNotesUnix.html">Compile (Unix)</a></div>
<div class="nav_active"><a href="UsingMXAInOtherProjects.html">MXA as External Library</a></div>
<div class="nav_inactive"><a href="../DoxygenDocs/html/index.html">Doxygen API</a></div>
</td>
<!-- End Navigation Table Cell -->
<td class="content">
<div class="entry">Windows XP:<br>
    <p>As of May 31, 2007 I am NOT compiling against the TIFF library on windows. It is on my list of things to do.
    When you run cmake, turn ON "BUILD_SHARED_LIBS", turn OFF MXA_USE_TIFF</p>
    <p>Double check the library for HDF5 that CMake found. Use hdf5dll.lib which should then point to hdf5dll.dll. </p>
    <p>When compiling against the dll version of the HDF5 library be sure to have the following defined:</p>
    <ul>
  <li> ADD_DEFINITIONS(-DHDF5_MODULES_ON) </li>
  <li> ADD_DEFINITIONS("-D_HDF5USEDLL_") </li>
</ul>
    otherwise you will get unresolved symbols when the link stage runs. Some how projects that used the MXADataModel 
    cmakelists file were not getting this added to their flags.
   <p> When compiling against the Qt libraries you need to include the following in the cmake file:
            <br><code>SET (QT_LIBRARIES qtmain ${QT_LIBRARIES})</code>
        <br>This will resolve the WinMain16 link error that will occur if you do NOT have it listed
      </p>  
    <p> If you
    get errors about multiple defined symbols from the C or C++ runtime librarys then you have a mismatch in your app 
    and libraries about whether or not to use the multi-threaded or single threaded or use release or Debug symbols. 
    You will have to look at each project that you built or find out from your vendor how they compiled the library. 
    These types of error will spit out a suggestion to use the /NODEFAULTLIB:[library] link flag. This is NOT necessary 
    if all your supporting libraries were compiled
    with the same C/C++ runtime libs (Threaded and Debug Symbols on or off)
    </p>
    <p>
    I was able to build the QMXADataViewer using shared libraries for the HDF5 and MXADataModel and Qt4 framework.   
     </p>
   </div>
</td></tr>
</table>
</body>
</html>

